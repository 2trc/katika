{% extends "base.html" %}

{%load static%}

{% block title %}
    {% if selected_author %}
{{selected_author.last_name}} {{selected_author.first_name}}
    {% elif selected_university %}
{{selected_university.name}}
    {% else %}
        Prisoners in Cameroon | Katika
    {% endif %}
{% endblock %}

{%block meta_description%}
<meta name="description" content="Prisoners in Cameroon">
{%endblock%}
{%block meta_keywords%}
<meta name="keywords" content="Cameroon, Katika, Prisoners, Cameroon">
{%endblock%}


{% block extra_css %}
    {# Override this in templates to add extra stylesheets #}
<link rel="stylesheet" type="text/css" href="{% static 'css/kthesis.css' %}">
{% endblock %}
{% block content %}

<section class="promotion">
    <div class="container">
        <p>Prisoners in Cameroon</p>
    </div>
</section>

<!--
<div class="container search-box">
    <div class="row">
        <div class="col-xs-10 col-md-8">
            <form id="mySearch" class="input-group" action="/kthesis" method="get">
              <input id="q" type="search" class="form-control" placeholder="Search for..."
                name="q">
              <span class="input-group-btn">
                <button class="btn btn-default" type="submit">
                    <i class="glyphicon glyphicon-search"></i>
                </button>
              </span>
            </form>
        </div>
    </div>
</div>
-->

{% if selected_author %}
<div class="container">
    <a href="/kthesis">All</a>»
    {{selected_author.last_name}} {{selected_author.first_name}}
</div>
{% endif %}

{% if selected_year %}
<div class="container">
    <a href="/kthesis">All</a>»
    {{selected_year}}
</div>
{% endif %}

{% if selected_university %}
<div class="container">
    <a href="/kthesis">All</a>>>
    {{selected_university.name}}
    {% if thesis.university.link%}
    <span>External <a href={{thesis.university.link}}" target="_blank">link</a></span>
    {% endif %}
</div>
{% endif %}

<div class="container">
    <div class="row">
        <div class="col-xs-12 col-md-8">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Arrest</th>
                        <th scope="col">Incarceration</th>
                        <th scope="col">Conviction</th>
                        <th scope="col">Release</th>
                    </tr>
                </thead>
                <tbody>
                    {% for prisoner in jailed %}
                    <tr href="#" data-toggle="tooltip" title="{{prisoner.more_info}}">
                        <th scope="row">{{prisoner.last_name}} {{prisoner.first_name}}</th>
                        <td>{{prisoner.arrest_date|default:""}}</td>
                        <td>{{prisoner.incarceration_date|default:""}}</td>
                        <td>{{prisoner.conviction_date|default:""}}</td>
                        <td>{{prisoner.release_date|default:""}}</td>
                    </tr>

                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <ul class="pagination">
            {% if jailed.has_previous %}
                <li>
                    <a href="?page={{jailed.previous_page_number}}">&laquo;</a>
            {% else %}
                <li class="disabled">
                    <a>&laquo;</a>
            {% endif %}                    
            </li>
            <li>
                <a>{{jailed.number}}</a>
            </li>

            {% if jailed.has_next %}
                <li>
                    <a href="?page={{jailed.next_page_number}}">&raquo;</a>
            {% else %}
                <li class="disabled">
                    <a>&raquo;</a>
            {% endif %}
                
            </li>
        </ul>
    </div>
</div>
{% endblock %}

{% block extra_js %}
    {# Override this in templates to add extra javascript #}
<!--<script type="text/javascript" src="//cdn.jsdelivr.net/jquery/1/jquery.min.js"></script>-->
<!--<script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>-->
<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-route.js"></script>-->
<!--<script src="{% static 'js/kthesis.js' %}"></script>-->
<!--<script type="text/javascript">-->
<!--document.getElementById('mySearch').onsubmit = function() {-->
<!--console.log("Boom");-->
<!--window.location = '/kthesis?q=' + document.getElementById('q').value;-->
<!--return false;-->
<!--}-->
<!--</script>-->
{% endblock %}